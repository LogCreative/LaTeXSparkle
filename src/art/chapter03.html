<!DOCTYPE html>
<html>
    <head>
        <meta name="viewport" content="width=device-width initial-scale=1.0">
        <link rel="stylesheet" type="text/css" href="../../css/normalize.min.css">
        <link rel="stylesheet" type="text/css" href="../../css/master.css"/>
        <link media="(max-width: 768px)" rel="stylesheet" type="text/css" href="../../css/mobile.css"/>
    </head>
    <title>
        像模像样 LaTeX
    </title>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

    <body>
        <div class="side-bar">
            <label id="menu-toggle" for="menu-checkbox">
                <svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="30" height="30">
                    <g fill="none">
                      <path stroke="whitesmoke" stroke-linecap="round" stroke-width="3" d="M5 10 l20 0" />
                      <path stroke="whitesmoke" stroke-linecap="round" stroke-width="3" d="M5 18 l20 0" />
                      <path stroke="whitesmoke" stroke-linecap="round" stroke-width="3" d="M5 26 l20 0" />
                    </g>
                  </svg>
            </label>
            <input id="menu-checkbox" type="checkbox"/>
            <div class="header">
                <a href="../../index.html" class="logo">像模像样 \(\rm \LaTeX \)</a>
            </div>
            <div class="nav">
                <a href="../../index.html" class="item">首页</a>
                <a href="../roadmap.html" class="item">路线图</a>
                <a href="../article-list.html" class="item">讲稿</a>
                <a href="../about.html" class="item">关于</a>
            </div>
            <div class="footer">
                <div class="item_s">\(\rm \LaTeX\) <b>Sparkle Project</b></div>
            <div class="item_s">LogCreative 2020 0201-0210</div>
            <a href="https://github.com/LogCreative/LaTeXSparkle" class="item" target="_blank">
                <svg class="octicon octicon-mark-github v-align-middle" height="16" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path></svg>
                GitHub</a>
            <a href="https://space.bilibili.com/31271993" class="item" target="_blank"> <img src="../../img/bilibili.ico" height="16px"> Bilibili</a>
            <br>
            <a href="https://www.mathjax.org/#gettingstarted" class="item" style="font-size: smaller;" target="_blank">POWERED BY MathJax</a>
            <embed src="../../by-sa.svg" style="padding:5px 0px;" type="image/svg+xml"/>
            </div>
        </div>
        <div class="main">
            <div class="article">
                <h1 class="title">第三节 舒适的 \(\rm \LaTeX\) 编辑环境</h1>
                <div class="status" id="CH03">状态：效果准备中</div>
                <div class="content" style="color: black;">

                    <h3>3.1 VS Code x \(\rm \LaTeX\)</h3>

                    <p>VS Code 的高颜值编辑器可以大大地增强 \(\rm \LaTeX\) 的编写体验。参考了<a href="https://zhuanlan.zhihu.com/p/38178015" target="_blank">这个链接</a>来更好地设置相关环境。</p>

                    <p>3.1.1 进入<a href="https://code.visualstudio.com/" target="_blank">官网</a>按照指示安装 VS Code。</p>

                    <p>3.1.2 在扩展商店中，搜索 Chinese，安装中文语言包。搜索 LaTeX Workshop，安装 \(\rm \LaTeX\) 扩展。</p>

                    <p>3.1.3 安装完毕后，在英文路径下创建一个 .tex 文件（注意是小写），会发现这个插件会被自动激活。</p>

                    <p>3.1.4 进入 VS Code 的设置页面，搜索 latex，进入 settings.json 编辑，插入以下设置。保存后关闭。

<details>
    <summary>VS Code settings.json 增补部分</summary>
    <pre>
"latex-workshop.latex.tools": [
    {
        // 编译工具和命令
        "name": "xelatex",
        "command": "xelatex",
        "args": [
            "-synctex=1",
            "-interaction=nonstopmode",
            "-file-line-error",
            "-pdf",
            "%DOCFILE%"
        ]
    },
    {
        "name": "pdflatex",
        "command": "pdflatex",
        "args": [
            "-synctex=1",
            "-interaction=nonstopmode",
            "-file-line-error",
            "%DOCFILE%"
        ]
    },
    {
        "name": "bibtex",
        "command": "bibtex",
        "args": [
            "%DOCFILE%"
        ]
    }
],
"latex-workshop.latex.recipes": [
    {
        "name": "pdflatex",
        "tools": [
            "pdflatex"
        ]
    },
    {
    "name": "pdf->bib->pdf->pdf",
    "tools": [
        "pdflatex",
        "bibtex",
        "pdflatex",
        "pdflatex"
    ]
    },
    {
        "name": "xelatex",
        "tools": [
            "xelatex"
        ],
    },
    {
        "name": "xe->bib->xe->xe",
        "tools": [
            "xelatex",
            "bibtex",
            "xelatex",
            "xelatex"
        ]
    },
],
        
        </pre>
</details>
                    

                    </p>
                    <p>3.1.5 配置完成后，重启 VS Code 使配置生效。点击 <span>\( \rm \TeX \)</span> 按钮进入选单，双击 <span>Snippet Panel</span> 调出小控件区域，以便插入一些符号。</p>
                    <p></p>

                    <h3>3.2 \(\rm \LaTeX\) 文档基本结构</h3>

                    <p>3.2.1 \(\rm \LaTeX\) 正文区域一般在<span>document</span>环境下。
                    <pre>
/begin{document}
Hello,\LaTeX!
/end{document}</pre>

                    <p>3.2.2 点击左下角<span>√</span>号，双击<span>Build LaTeX Project</span>下的<span>Recipe: pdf->bib->pdf->pdf</span>,编译 \(\rm \LaTeX\) 文件。</p>

                    <p>3.2.3 然后点击右上角的 <span>View LaTeX PDF File</span>查看生成的 PDF 文件。上面会提示使用什么方式打开，可以使用<span>VS Code Tab</span>标签页方式打开，就可以看到你的第一个 \(\rm \LaTeX\) 生成的 PDF 文件了！</p>

                    <p>3.2.4 你会发现编译器会弹出错误，提示<pre>The font size command /normalsize is not defined.</pre></p>
                    </p>

                    <p>这是因为我们还没有定义文档类型，在导言区添加</p>

                    <pre>/documentclass[a4paper]{article}</pre>

                    <div class="toutu"><span>\documentclass</span>写在<span>document</span>环境之前，用以定义文档类型，参数<span>[a4paper]</span>用于定义纸张类型，<span>article</span>用于指定预选风格，这里采用了普遍使用的文章风格。</div>

                    <p>3.2.5 最后，我们把提示框关掉。在设置选单里，搜索
                        <pre>latex-workshop.message.warning.show
latex-workshop.message.error.show</pre>
                        将复选框勾除。然后搜索
                        <pre>Wrap</pre>
                        在<span>Word Wrap</span>下拉选单选中<span>on</span>启动编辑器自动换行。
                    </p>

                    <h3>3.3 Markdown 预览 \(\rm \LaTeX\) 公式</h3>

                    <p>可能每次都要编译一次 \(\rm \LaTeX\) 文档有时候还是太麻烦了，费时费力。我们不妨采用 Markdown 的 \(\rm \LaTeX\) 预览功能方便地做出大纲。</p>

                    <div class="toutu">定界符<span>$ $</span>用于生成行内公式。</div>

                    <p>3.3.1 前往插件商店下载<span>Markdown All in One</span>。</p>

                    <p>3.3.2 新建一个 .md 文件，输入<pre>$a=b+c$</pre></p>

                    <p>3.3.3 点击右上角的<span>打开侧边预览</span>按钮，就可以看到对应的 \(\rm \LaTeX\) 公式了。\[a=b+c\]</p>

                    <p>只要在 Markdown 中将大纲列好，之后在送入 \(\rm \LaTeX\) 处理，就能比较高效地完成 \(\rm \LaTeX\) 文档了！</p>

                    <p><i>备注：<a href="https://www.typora.io/" target="_blank">Typora 软件</a>支持导出 .tex 文件功能。</i></p>

                    <h3>3.4 实例：用 \(\rm \LaTeX\) 写一次数学作业</h3>

                    <p>有些时候，我们被要求使用 \(\rm \LaTeX\) 写一些数学作业。我们将会按照上述流程来试验一次。</p>

<details>
    <summary><a href="https://github.com/LogCreative/LaTeXSparkle/blob/master/doc/CH03/testAssignment.tex" target="_blank" >testAssignment.tex</a> <a href="https://github.com/LogCreative/LaTeXSparkle/blob/master/doc/CH03/testAssignment.pdf" target="_blank">[预览]</a></summary>
<pre>
\documentclass[a4paper,12pt]{article}
\usepackage{CJKutf8}
\usepackage{amsthm}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{geometry}

% 边距
\geometry{left=3.0cm,right=2.0cm,top=3.0cm,bottom=3.0cm}

% 大题
\newenvironment{firstlayer}{\begin{list}{}{\renewcommand{\makelabel}[1]{\textbf{##1}.\hfil}}}{\end{list}}

% 小题
\newenvironment{secondlayer}{\begin{list}{}{\renewcommand{\makelabel}[1]{(##1)\hfil}}}{\end{list}}

% 证明
\renewcommand{\proofname}{\textbf{证明}}

% 解
\providecommand{\sol}{\textbf{解}.~}

% 标题
\title{示例作业}
\author{LogCreative}
\date{2020 年 8 月}

\begin{document}
\begin{CJK}{UTF8}{song}
\maketitle

\begin{firstlayer}

\item[2] 简单图 $G$ 中，如果 $m>\frac{1}{2}(n-1)(n-2)$，证明 $G$ 不存在孤立节点。

\begin{proof}
    % 证明环境
    若不然，则有一孤立点 $v$，子图 $G'=G-v$ 的边数

    \begin{equation}\label{ls}
        \left\lvert E(G')\right\rvert = \left\lvert E(G)\right\rvert = m>\frac{1}{2}(n-1)(n-2) 
    \end{equation}

    然而，$G'$ 边数最多的情况是完全图 $K_{n-1}$，也就是
    \begin{equation}\label{lss}
        \left\lvert E(G')\right\rvert \leq \frac{1}{2}(n-1)(n-2)
    \end{equation}

    这与式子 \eqref{ls} 矛盾。

    由于当孤立节点数不止一个时，式子 \eqref{lss} 依然成立。所以不存在孤立节点。

\end{proof}

\begin{secondlayer}

    \item[2] \sol 这是一个解。

\end{secondlayer}

\end{firstlayer}

\end{CJK}
\end{document}</pre>
</details>
                    
                    <p>3.4.1 做一个作业，我们要有标题。在导言区定义标题属性。
<pre>
\title{示例作业}
\author{LogCreative}
\date{2020 年 8 月}</pre>
                    </p>

                    <div class="toutu">
                        
                        <table border="1px" cellspacing="0" cellpadding="4px">
                            <caption>标题属性</caption>
                            <th>属性</th>
                            <th>描述</th>
                            <tr>
                                <td>title</td>
                                <td>标题</td>
                            </tr>
                            <tr>
                                <td>author</td>
                                <td>作者</td>
                            </tr>
                            <tr>
                                <td>date</td>
                                <td>日期</td>
                            </tr>
                        </table>
                    </div>

                    <p>然后在正文区运行制作标题命令。<pre>\maketitle</pre></p>

                    <p>3.4.2 编译后发现中文显示不出来，就需要引入<span>CJKutf8</span>包以及对应的<span>CJK</span>环境。<pre>
\usepackage{CJKutf8}

\begin{document}
\begin{CJK}{utf}{song}
正文区
\end{CJK}
\end{document}</pre></p>

                    <div class="toutu">
                        <span>\usepackage</span>用于引入宏包，<span>CJK</span>环境的两个参数分别是编码方式（UTF-8）和字体名称（宋体）。
                    </div>

                    <p>保存后，将会自动下载对应的包进行编译。</p>

                    <p>3.4.3 下面就是输入一些内容了。我们注意一下 kerning 的问题，半角英文与全角中文之间要空一个空格。日期这里也稍微改一下。</p>

                    <div class="toutu"><span>proof</span>证明环境由<span>amsthm</span>宏包提供。公式由<span>\label</span>来指定标签，并使用<span>\equref</span>引用这个公式。
                    </div>

                    <p>3.4.4 可以新建一个 .md 文件写出大纲并实时预览公式。然后复制到 .tex 正文区。</p>

                    <p><i>备注：如果有引用问题，可以重新使用<span>Recipe: pdflatex</span>命令生成文件，标准的链条应当编译两次以上。悬浮在公式标签上可以看到公式预览。</i></p>

                    <p>3.4.5 继续美化。在<span>\documentclass</span>参数中添加<span>12pt</span>更改基础字号大小，使用<span>geometry</span>宏包定义边距。</p>

                    <p>添加两个列表环境，以更方便地显示题号。<pre>
% 大题
\newenvironment{firstlayer}{\begin{list}{}{\renewcommand{\makelabel}[1]{\textbf{##1}.\hfil}}}{\end{list}}

% 小题
\newenvironment{secondlayer}{\begin{list}{}{\renewcommand{\makelabel}[1]{(##1)\hfil}}}{\end{list}}</pre>
                    这样在正文中使用这样的形式就可以显示大题与小题题号了。
<pre>
\begin{firstlayer}
    \item[2] 这是第二大题。
    \begin{secondlayer}
        \item[2] 这是第二小题。
    \end{secondlayer}
\end{firstlayer}
</pre>

<div class="toutu">
    这是枚举列表环境<span>enumerate</span>的变种。
    <div class="con">
        <div class="left">
            <pre>
\begin{enumerate}
    \item 我是第一项。
    \item 我是第二项。
\end{enumerate}</pre>
        </div>
        <div class="right">
<ol>
    <li>我是第一项。</li>
    <li>我是第二项。</li>
</ol>
        </div>
    </div>
    在<span>item</span>后中括号添加参数可以定义它的序号。与此类似的环境还有<span>itemize</span>点状列表和<span>description</span>描述型列表。<span>\newenvironment</span>将定义一个新的环境，<span>\renewcommand</span>将重新定义一个命令。
</div>
</p>

<p>重新定义证明的题头。在导言区添加下述命令即可。<pre>
\renewcommand{\proofname}{\textbf{证明}}
</pre></p>

<div class="toutu"><span>\textbf</span>用于加粗字体，<span>\textit</span>可以斜向字体。但后者在正文中一般使用<span>\emph</span>命令。</div>

<p>还可以使用下面的命令定义解的题头，输入<span>\sol</span>即可使用。</p>
<pre>
\providecommand{\sol}{\textbf{解}.}
</pre>
<div class="toutu"><span>\providecommand</span>用于定义新的命令。</div>
                <p>3.4.6 最后，如果老师需要你展示这些内容，就可以使用 Marp 插件，基于之前的 .md 文件生成 PPT 了。</p>

                <p>点击右上角的<span>Marp Commands</span>，选择<span>Toggle Marp preview for current Markdown</span>，以使用 Marp 插件。</p>

                <div class="toutu">使用<span>#</span>添加标题，使用<span>$$</span>嵌入行间公式，使用<span>**</span>加粗字体。（拓展：<span>*</span>为斜体）</div>

                <p>再次点击右上角的 Marp 命令，选择<span>Export slide deck</span>选择 .pptx 格式，导出。发现需要安装 Google Chrome，安装完后重启一下 VS Code，再进行上步操作就可以了。</p>

                <p>提一句，Marp 中使用<span>---</span>分隔幻灯片。这样我们的幻灯片就大功告成了！我觉得这也是 Marp 作为一个 Mardown 到 PPT 转换器的<a href="https://sspai.com/post/55718" target="_blank">重要用途</a>之一。</p>

                <details>
                    <summary><a href="https://github.com/LogCreative/LaTeXSparkle/blob/master/doc/CH03/testAssignment.md" target="_blank" >testAssignment.md</a> <a href="https://github.com/LogCreative/LaTeXSparkle/blob/master/doc/CH03/testAssignmentPPT.pdf" target="_blank">[预览]</a></summary>
                    <pre>
---
marp: true
---

# 问题 2

简单图 $G$ 中，如果 $m>\frac{1}{2}(n-1)(n-2)$，证明 $G$ 不存在孤立节点。

**证明：** 若不然，则有一孤立点 $v$，子图 $G'=G-v$ 的边数

$$
%ls
    \left\lvert E(G')\right\rvert = \left\lvert E(G)\right\rvert = m>\frac{1}{2}(n-1)(n-2) 
$$

---

然而，$G'$ 边数最多的情况是完全图 $K_{n-1}$，也就是
$$
%lss
    \left\lvert E(G')\right\rvert \leq \frac{1}{2}(n-1)(n-2)
$$

这与第一个式子矛盾。

由于当孤立节点数不止一个时，第二个式子依然成立。所以不存在孤立节点。
</pre>
                </details>
                </div>
            </div>
        </div>
        <footer>
            <div>
                <div class="item_s">\(\rm \LaTeX\) <b>Sparkle Project</b></div>
                <div class="item_s">LogCreative 2020 0201-0210</div>
                <a href="https://github.com/LogCreative/LaTeXSparkle" class="item" target="_blank">
                    <svg class="octicon octicon-mark-github v-align-middle" height="16" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path></svg>
                    GitHub</a>
                <a href="https://space.bilibili.com/31271993" class="item" target="_blank"> <img src="../../img/bilibili.ico" height="16px"> Bilibili</a>
                <br>
                <a href="https://www.mathjax.org/#gettingstarted" class="item" style="font-size: smaller;" target="_blank">POWERED BY MathJax</a>
                <embed src="../../by-sa.svg" style="padding:5px 0px;" type="image/svg+xml"/>
            </div>
            
        </footer>
        
    </body>
</html>